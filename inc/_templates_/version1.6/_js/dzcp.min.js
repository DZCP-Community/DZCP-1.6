var innerLayer,layer,x,y,doc=document,ie4=document.all,opera=window.opera,offsetX=15,offsetY=5,tickerc=0,mTimer=new Array,tickerTo=new Array,tickerSpeed=new Array,shoutInterval=15e3,teamspeakInterval=15e3,isIE=-1!=navigator.appVersion.indexOf("MSIE"),isOpera=-1!=navigator.userAgent.indexOf("Opera"),DZCP={init:function(){doc.body.id="dzcp-engine-1.6-1-0",$("body").append('<div id="infoDiv"></div>'),layer=$("#infoDiv")[0],doc.body.onmousemove=DZCP.trackMouse,$("#navShout")[0]&&window.setInterval("$('#navShout').load('../inc/ajax.php?i=shoutbox');",shoutInterval),$("#navTeamspeakContent")[0]&&window.setInterval("$('#navTeamspeakContent').load('../inc/ajax.php?i=teamspeak');",teamspeakInterval),DZCP.initLightbox(),$(".int_tabs").each(function(){$(this).tabs()}),1==dsgvo&&DZCP.show_dsgvo("#dialog-confirm"),1==dsgvo_lock&&DZCP.show_dsgvo_lock("#dialog-confirm-lock")},show_dsgvo_lock:function(e){$(e).show(),$(e).dialog({resizable:!1,height:"auto",width:800,modal:!0,buttons:{Akzeptieren:function(){$(location).attr("href","../user/?action=userlock&dsgvo-lock=1")},Ablehnen:function(){$(location).attr("href","../user/?action=userlock&dsgvo-lock=0")}}})},show_dsgvo:function(e){$(e).show(),$(e).dialog({resizable:!1,height:"auto",width:800,modal:!0,buttons:{Akzeptieren:function(){$(location).attr("href","?dsgvo=1")},Ablehnen:function(){$(location).attr("href","?dsgvo=0")}}})},initLightbox:function(){lightbox.option({resizeDuration:350,positionFromTop:20,albumLabel:"de"==lng?"Bild %1 von %2":"Image %1 of %2",maxHeight:screen.height/1.3,maxWidth:screen.width/1.3})},addEvent:function(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!1),!0):!!e.attachEvent&&e.attachEvent("on"+t,i)},trackMouse:function(e){if(innerLayer=$("#infoInnerLayer")[0],"object"==typeof layer){var t=doc.all,i=doc.getElementById&&!doc.all;if(x=i?e.pageX-5:window.event.clientX+doc.documentElement.scrollLeft-5,y=i?e.pageY- -15:window.event.clientY+doc.documentElement.scrollTop- -15,innerLayer)var n=(t?innerLayer.offsetWidth:innerLayer.clientWidth)-3;else n=(t?layer.clientWidth:layer.offsetWidth)-3;var o=i?window.innerWidth+window.pageXOffset-12:doc.documentElement.clientWidth+doc.documentElement.scrollLeft;layer.style.left=(x+offsetX+n>=o-offsetX?x-(n+offsetX):x+offsetX)+"px",layer.style.top=y+offsetY+"px"}return!0},popup:function(e,t,i){t=parseInt(t),i=parseInt(i)+50,popup=window.open(e,"Popup","width=1,height=1,location=0,scrollbars=0,resizable=1,status=0"),popup.resizeTo(t,i),popup.moveTo((screen.width-t)/2,(screen.height-i)/2),popup.focus()},initGameServer:function(e){DZCP.initDynLoader("navGameServer_"+e,"server","&serverID="+e)},initTeamspeakServer:function(){DZCP.initDynLoader("navTeamspeakServer","teamspeak","")},initDynLoader:function(e,t,i){$.ajax({url:"../inc/ajax.php?i="+t+i,type:"GET",data:{},cache:!0,dataType:"html",contentType:"application/x-www-form-urlencoded; charset=iso-8859-1"}).done(function(t){$("#"+e).html(t).hide().fadeIn("normal")})},initDynCaptcha:function(e,t,i){$.ajax({url:"../antispam.php?secure="+i+"&num="+t,type:"GET",data:{},cache:!1,dataType:"html",contentType:"application/x-www-form-urlencoded; charset=iso-8859-1"}).done(function(t){$("#"+e).html(t).hide().fadeIn("normal")})},shoutSubmit:function(){return $.post("../shout/index.php?ajax",$("#shoutForm").serialize(),function(e){e&&alert(e.replace(/  /g," ")),$("#navShout").load("../inc/ajax.php?i=shoutbox"),e||$("#shouteintrag").prop("value","")}),!1},switchuser:function(){var e=doc.formChange.changeme.options[doc.formChange.changeme.selectedIndex].value;window.location.href=e},tempswitch:function(){var e=doc.form.tempswitch.options[doc.form.tempswitch.selectedIndex].value;"lazy"!=e&&DZCP.goTo(e)},goTo:function(e,t){1==t?window.open(e):window.location.href=e},maxlength:function(e,t,i){e.value.length>i?e.value=e.value.substring(0,i):t.value=i-e.value.length},showInfo:function(e,t,i,n,o,a){if("object"==typeof layer){var r="";if(t&&i){for(var l=t.split(";"),s=i.split(";"),c="",d=0;d<l.length;++d)c=c+"<tr><td>"+l[d]+"</td><td>"+s[d]+"</td></tr>";r='<tr><td class="infoTop" colspan="2">'+e+"</td></tr>"+c}else r=t&&void 0===i?'<tr><td class="infoTop" colspan="2">'+e+"</td></tr><tr><td>"+t+"</td></tr>":"<tr><td>"+e+"</td></tr>";var p="";p=n?'<tr><td colspan=2 align=center><img src="'+n+'" width="'+o+'" height="'+a+'" alt="" /></td></tr>':"",layer.innerHTML='<div id="hDiv">  <table class="hperc" cellspacing="0" style="height:100%">    <tr>      <td style="vertical-align:middle">        <div id="infoInnerLayer">          <table class="hperc" cellspacing="0">              '+r+"              "+p+"          </table>        </div>      </td>    </tr>  </table></div>",ie4&&!opera?(layer.innerHTML+='<iframe id="ieFix" frameborder="0" width="'+$("#hDiv")[0].offsetWidth+'" height="'+$("#hDiv")[0].offsetHeight+'"></iframe>',layer.style.display="block"):layer.style.display="block"}},showSteamBox:function(e,t,i,n,o){var a;switch(o){case 1:a="online";break;case 2:a="in-game";break;default:a="offline"}"object"==typeof layer&&(layer.innerHTML='<div id="hDiv">  <table class="hperc" cellspacing="0" style="height:100%">    <tr>      <td style="vertical-align:middle">        <div id="infoInnerLayer">             <table class="steam_box_bg" border="0" cellspacing="0" cellpadding="0">              <tr>                <td>                   <div class="steam_box steam_box_user '+a+'">                     <div class="steam_box_avatar '+a+'"> <img src="'+t+'" /></div>                     <div class="steam_box_content">'+e+'<br />                     <span class="friendSmallText">'+i+"<br>"+n+"</span></div>                   </div>                </td>              </tr>            </table>        </div>      </td>    </tr>  </table></div>",ie4&&!opera?(layer.innerHTML+='<iframe id="ieFix" frameborder="0" width="'+$("#hDiv")[0].offsetWidth+'" height="'+$("#hDiv")[0].offsetHeight+'"></iframe>',layer.style.display="block"):layer.style.display="block")},hideInfo:function(){"object"==typeof layer&&(layer.innerHTML="",layer.style.display="none")},toggle:function(e){0!=e&&("none"==$("#more"+e).css("display")?($("#more"+e).css("display",""),$("#img"+e).prop("src","../inc/images/collapse.gif")):($("#more"+e).css("display","none"),$("#img"+e).prop("src","../inc/images/expand.gif")))},fadetoggle:function(e){$("#more_"+e).fadeToggle("slow","swing"),"hidden"==$("#img_"+e).prop("alt")?$("#img_"+e).prop({alt:"normal",src:"../inc/images/toggle_normal.png"}):$("#img_"+e).prop({alt:"hidden",src:"../inc/images/toggle_hidden.png"})},resizeImages:function(){for(var e=0;e<doc.images.length;e++){var t=doc.images[e];if("content"==t.className){var i=t.width,n=t.height;if(0!=maxW&&i>maxW&&(t.width=maxW,t.height=Math.round(n*(maxW/i)),!DZCP.linkedImage(t))){var o=doc.createElement("span"),a=doc.createElement("a");o.appendChild(doc.createElement("br")),o.setAttribute("class","resized"),o.appendChild(doc.createTextNode("auto resized to "+t.width+"x"+t.height+" px")),a.setAttribute("href",t.src),a.setAttribute("rel","lightbox"),a.appendChild(t.cloneNode(!0)),t.parentNode.appendChild(o),t.parentNode.replaceChild(a,t),DZCP.initLightbox()}}}},linkedImage:function(e){do{if("A"==(e=e.parentNode).nodeName)return!0}while("TD"!=e.nodeName&&"BODY"!=e.nodeName);return!1},calSwitch:function(e,t){$("#navKalender").load("../inc/ajax.php?i=kalender&month="+e+"&year="+t)},teamSwitch:function(e){clearTimeout(mTimer[1]),$("#navTeam").load("../inc/ajax.php?i=teams&tID="+e,DZCP.initTicker("teams","h",60))},ajaxVote:function(e){return DZCP.submitButton("contentSubmitVote"),$.post("../votes/index.php?action=do&ajax=1&what=vote&id="+e,$("#navAjaxVote").serialize(),function(e){$("#navVote").html(e)}),!1},ajaxFVote:function(e){return DZCP.submitButton("contentSubmitFVote"),$.post("../votes/index.php?action=do&fajax=1&what=fvote&id="+e,$("#navAjaxFVote").serialize(),function(e){$("#navFVote").html(e)}),!1},ajaxPreview:function(e){for(var t=doc.getElementsByTagName("textarea"),i=0;i<t.length;i++){var n=t[i].className,o=t[i].id;if("editorStyle"==n||"editorStyleWord"==n||"editorStyleNewsletter"==n){var a=tinyMCE.getInstanceById(o);$("#"+o).prop("value",a.getBody().innerHTML)}}$("#previewDIV").html('<div style="width:100%;text-align:center"> <img src="../inc/images/admin/loading.gif" alt="" /></div>');var r="";"cwForm"==e&&$("input[type=file]").each(function(){r=r+"&"+$(this).prop("name")+"="+$(this).prop("value")});var l=prevURL;$.post(l,$("#"+e).serialize()+r,function(e){$("#previewDIV").html(e)})},del:function(e){return e=(e=e.replace(/\+/g," ")).replace(/oe/g,"ï¿½"),confirm(e+"?")},hideForumFirst:function(){$("#allkat").prop("checked",!1)},hideForumAll:function(){for(var e=0;e<doc.forms.search.elements.length;e++){var t=doc.forms.search.elements[e];t.id.match(/k_/g)&&(t.checked=!1)}},submitButton:function(e){return submitID=e||"contentSubmit",$("#"+submitID).prop("disabled",!0),$("#"+submitID).css("color","#909090"),$("#"+submitID).css("cursor","default"),!0},initTicker:function(e,t,i){tickerTo[tickerc]="h"==t||"v"==t?t:"v",tickerSpeed[tickerc]=parseInt(i)<=10?10:parseInt(i);var n=$("#"+e).html(),o='  <div id="scrollDiv'+tickerc+'" class="scrollDiv" style="position:relative;left:0;z-index:1">';o+='    <table id="scrollTable'+tickerc+'" class="scrolltable"  cellpadding="0" cellspacing="0">',o+="      <tr>",o+='        <td onmouseover="clearTimeout(mTimer['+tickerc+'])" onmouseout="DZCP.startTickerDiv('+tickerc+')">';for(var a=0;a<10;a++)o+=n;o+="        </td>",o+="      </tr>",o+="    </table>",o+="  </div>",$("#"+e).html(o),window.setTimeout("DZCP.startTickerDiv("+tickerc+");",1500),tickerc++},startTickerDiv:function(e){tableObj=$("#scrollTable"+e)[0],obj=tableObj.parentNode,objWidth="h"==tickerTo[e]?tableObj.offsetWidth:tableObj.offsetHeight,newWidth=2*Math.floor(objWidth/2)+2,obj.style.width=newWidth,mTimer[e]=setInterval("DZCP.moveDiv('"+obj.id+"', "+newWidth+", "+e+");",tickerSpeed[e])},moveDiv:function(e,t,i){var n=$("#"+e)[0];"h"==tickerTo[i]?n.style.left=parseInt(n.style.left)<=0-t/2+2?0:parseInt(n.style.left)-1+"px":n.style.top=""==n.style.top||parseInt(n.style.top)<0-t/2+6?0:parseInt(n.style.top)-1+"px"},TS3Settings:function(e){3==e?$("#ts3settings").css("display",""):$("#ts3settings").css("display","none")}};$(document).ready(function(){DZCP.init()}),$(window).on("load",function(){DZCP.resizeImages()}),$(window).resize(function(){DZCP.resizeImages()});